# Сервис WebSocket (WS)

Данный сервис предоставляет возможность отправки сообщений через протокол WebSocket (WS).

## Использование

### Подключение по ws

Для того чтобы начать получать сообщения, необходимо подключиться по WS, отправив запрос на
endpoint `/secured/ws-endpoint` с использованием SockJS.
<p>Название топика для подключения должно соответствовать названию топика в установленному в конфигурации.

### Получение сообщений

Чтобы сервер отправил WS сообщение, необходимо отправить POST-запрос на `/send/ws` с данными в формате JSON.

```
curl -X POST http://localhost:7080/send/ws \
-H 'Content-Type: application/json' \
-d '{"message": "Hello, world!", "sender": "John Doe"}'
```

## Настройка

| Переменнная |                    Описание                     | Значение по умолчанию |
|:-----------:|:-----------------------------------------------:|:---------------------:|
|  ws.topic   | Топик, на который будут отправляться сообщения. |       /topic/1        |
| server.port |                 Порт приложения                 |         7080          |

## Сборка

Сборка осуществляется с помощью Gradle (https://gradle.org/).
Для этого нужно выполнить команду в терминале из корня проекта:

```
gradle clean build
```

Gradle скомпилирует код и создаст jar-файл (build/libs/<project-version>.jar).

Для запуска приложения нужно выполнить команду в терминале из корня проекта:

```
gradle bootRun
```
